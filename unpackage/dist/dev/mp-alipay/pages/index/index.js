(my["webpackJsonp"] = my["webpackJsonp"] || []).push([["pages/index/index"],[
/* 0 */,
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */
/*!***********************************************************************************!*\
  !*** E:/other/diaoyan/ar/test-ar-markup/main.js?{"page":"pages%2Findex%2Findex"} ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 5);


var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 4));
var _index = _interopRequireDefault(__webpack_require__(/*! ./pages/index/index.vue */ 13));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} // @ts-ignore
my.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;createPage(_index.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-alipay/dist/index.js */ 1)["createPage"]))

/***/ }),
/* 13 */
/*!****************************************************************!*\
  !*** E:/other/diaoyan/ar/test-ar-markup/pages/index/index.vue ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.vue?vue&type=template&id=57280228& */ 14);
/* harmony import */ var _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.vue?vue&type=script&lang=js& */ 16);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.vue?vue&type=style&index=0&lang=css& */ 18);
/* harmony import */ var _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 11);

var renderjs





/* normalize component */

var component = Object(_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["render"],
  _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/index/index.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),
/* 14 */
/*!***********************************************************************************************!*\
  !*** E:/other/diaoyan/ar/test-ar-markup/pages/index/index.vue?vue&type=template&id=57280228& ***!
  \***********************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228& */ 15);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),
/* 15 */
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/other/diaoyan/ar/test-ar-markup/pages/index/index.vue?vue&type=template&id=57280228& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),
/* 16 */
/*!*****************************************************************************************!*\
  !*** E:/other/diaoyan/ar/test-ar-markup/pages/index/index.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */ 17);
/* harmony import */ var _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),
/* 17 */
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/other/diaoyan/ar/test-ar-markup/pages/index/index.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _regenerator = _interopRequireDefault(__webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ 22));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);}_next(undefined);});};} //
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

var VSHADER_SOURCE = "" +
"attribute vec4 a_position;" + //
"attribute vec2 a_texCoord;" + //
"varying vec2 v_texCoord;" + //
"void main(){\n" +
"   gl_Position = a_position;" +
"   v_texCoord = a_texCoord;" + //
"}";

var FSHADER_SOURCE = "" +
"precision mediump float;" + //
"uniform sampler2D u_image;" + //
"varying vec2 v_texCoord;" + //
"void main(){" +
"   gl_FragColor = texture2D(u_image,v_texCoord);" + //
"}";
var canvas;
var gl;

var w = 0;
var h = 0;

//唇彩特效透明度
var translucent;
var translucentBase = 1;

//唇彩图片
var img;
//唇彩图片路径
var imgPath;

//德劳内三角化退化成查找表
var lipIndex = new Int32Array([
84, 85, 96,
96, 85, 97,
97, 85, 86,
97, 86, 87,
97, 87, 98,
98, 87, 88,
98, 88, 99,
99, 88, 89,
99, 89, 100,
100, 89, 90,
84, 96, 95,
95, 96, 103,
95, 103, 94,
94, 103, 102,
94, 102, 93,
93, 102, 101,
93, 101, 92,
92, 101, 91,
91, 101, 100,
91, 100, 90]);


//关键点缩放的点对索引
var lipScaleIndex = new Int32Array([
84, 96,
96, 84,
85, 97,
86, 97,
97, 86,
87, 98,
98, 87,
88, 99,
99, 88,
89, 99,
90, 100,
100, 90,
91, 101,
92, 101,
101, 92,
93, 102,
102, 93,
94, 103,
103, 94,
95, 103]);


//纹理坐标
var lipTexCoordnate = new Float32Array([
0, 0.5,
0.153, 0.686,
0.368, 0.741,
0.5, 0.693,
0.632, 0.741,
0.847, 0.686,
1, 0.5,
0.863, 0.311,
0.677, 0.24,
0.5, 0.212,
0.323, 0.24,
0.137, 0.311,
0.072, 0.499,
0.363, 0.504,
0.5, 0.488,
0.637, 0.504,
0.928, 0.499,
0.637, 0.475,
0.5, 0.464,
0.363, 0.475]);


var quadVertex = new Float32Array([
//顶点坐标   纹理坐标
//------\\ //----\\
-1.0, 1.0, 0.0, 0.0,
-1.0, -1.0, 0.0, 1.0,
1.0, -1.0, 1.0, 1.0,
1.0, -1.0, 1.0, 1.0,
1.0, 1.0, 1.0, 0.0,
-1.0, 1.0, 0.0, 0.0]);

var lipVertex = new Float32Array([
-1.0, 1.0, 0.0, 0.0, 1.0,
-1.0, -1.0, 0.0, 1.0, 1.0,
1.0, -1.0, 1.0, 1.0, 1.0,
1.0, -1.0, 1.0, 1.0, 1.0,
1.0, 1.0, 1.0, 0.0, 1.0,
-1.0, 1.0, 0.0, 0.0, 1.0]);
//render resource
var vertShader;
var fragShader;
var shaderProgram;
var quadVertShader;
var quadFragShader;
var quadShaderProgram;
var vertexbuffer;
var quadVertexbuffer;
var lipPoints;
var lipPointsIndex;
var lipPointsScale;
var lipPointsUnScale;
var lipTexture;
var cameraTexture;
var lipMarkBeginIndex = 84;
var dataFrame;
//嘴唇面片缩放系数
var lipScale;
// var points = []
var _default = {
  name: 'ar-camera-com',
  data: function data() {
    return {
      points: [],
      canvasObj: {
        width: 0,
        height: 0,
        top: 0,
        left: 0,
        pixelRatio: 1 },

      gl: null,
      canvas: null,
      lipMarkBeginIndex: 84, //阿里ar sdk嘴唇关键点起始索引
      lipScale: null, //嘴唇面片缩放系数
      facePoints: {},
      points84By63: [
      957.50409482,
      2048.25090186,
      1024.20328954,
      2021.00354189,
      1100.35535717,
      1996.00218737,
      1145.56652331,
      2007.07288401,
      1189.2633217,
      1996.04795256,
      1261.4984701,
      2017.43906306,
      1325.22831509,
      2046.56618589,
      1276.55727626,
      2093.84743997,
      1224.39282784,
      2134.3206981,
      1144.65582022,
      2144.29859945,
      1069.32946318,
      2129.80846816,
      1011.42414683,
      2094.29104754,
      988.1676205,
      2055.62188232,
      1054.90785861,
      2052.97282839,
      1152.7350715,
      2054.15642762,
      1241.12630101,
      2056.98369944,
      1299.69763407,
      2046.2361438,
      1237.68592091,
      2062.30674812,
      1145.72936507,
      2071.47383073,
      1024.20328954,
      2021.00354189],

      translucent: 0.5,
      imgLipstick: '/static/images/ar-makup/lipColor1.png',
      imgModel: '/static/images/ar-makup/model1.jpg',
      // imgLipstick: 'https://cdn-mdj.oss-cn-beijing.aliyuncs.com/common/test-ar-makeup/lipColor1.png',
      // imgModel: 'https://cdn-mdj.oss-cn-beijing.aliyuncs.com/common/test-ar-makeup/model.jpg',
      isFaceBeauty: true,
      isShowFacePoints: false,
      vertexs: new Float32Array([
      -1.0, 1.0, 0.0, 0.0, 1.0,
      -1.0, -1.0, 0.0, 0.0, 0.0,
      1.0, 1.0, 0.0, 1.0, 1.0,
      1.0, -1.0, 0.0, 1.0, 0.0]) };

  },
  props: {},
  components: {},
  computed: {},
  created: function created() {
    // this.setCanvasWh();
    this.imgLoad();
  },

  onReady: function onReady() {},
  methods: {
    imgLoad: function imgLoad(e) {
      // console.log(e, 'width', e.detail.width);
      // console.log('height：', e.detail.height);
      this.handleARFrame1();
      var self = this;
      translucent = 0.5;
      lipMarkBeginIndex = this.lipMarkBeginIndex = 84;
      lipScale = this.lipScale = 0.01;

      var systemInfo = uni.getSystemInfoSync();
      var wImg = 1389,hImg = 1852;
      // this.imgWidth = e.detail.width
      // this.imgHeight = e.detail.height
      this.imgWidth = wImg;
      this.imgHeight = hImg;
      var w = systemInfo.windowWidth;
      var h = systemInfo.windowHeight;
      var r = wImg / hImg;
      console.log(systemInfo, 'getImageInfo', this.canvasObj, w, h, r);
      if (w / h < r) {
        // 表示高是短边,现在宽剧中
        this.canvasObj.height = h;
        this.canvasObj.width = r * h;
        this.canvasObj.top = 0;
        this.canvasObj.left = (w - this.canvasObj.width) / 2;
      } else {
        this.canvasObj.width = w;
        this.canvasObj.height = w / r;
        this.canvasObj.top = (h - this.canvasObj.height) / 2;
        this.canvasObj.left = 0;
      }
      this.canvasObj.pixelRatio = systemInfo.pixelRatio;
      console.log(w / h < r, '。。。。。。。this.canvasObj。。。', this.canvasObj);





    },
    canvasWxFn: function canvasWxFn() {




















































      // this.onCanvasReady('arcanvas')
    },
    onCanvasReady: function onCanvasReady(id) {var _this = this;
      console.log('onCanvasReady kaishi 哈哈哈');
      // this.imgLoad();

      try {
        my._createCanvas({
          id: id,
          success: function success(c) {
            var systemInfo = my.getSystemInfoSync();
            console.log('。。。systemInfo。。', JSON.stringify(systemInfo));
            // c.height = 1852;
            // c.width = 1389;
            console.log('。。。。。。。my.createCanvas。。success。', c);
            _this.gl = c.getContext('webgl');
            gl = _this.gl;
            _this.canvas = c;
            canvas = c;
            _this.renderImg();
            // this.drawFacePoints(this.points);
          },
          fail: function fail() {
            console.log('。。。。。。。my.createCanvas。。fail。');
          } });

        // my._createCanvas({
        // 	id:'arcanvas',
        // 	success: (c) => {

        // 		var systemInfo = uni.getSystemInfoSync();
        // 		console.log('。。。systemInfo。。', this.canvasObj, this.canvasObj);
        // 		c.height = 1852*systemInfo.pixelRatio;
        // 		c.width = 1389*systemInfo.pixelRatio;
        // 		console.log(c.width, '。。。。。。。uni.createCanvas。。success。', c);
        // 		this.gl = c.getContext('webgl');
        // 		gl = this.gl;
        // 		this.canvas = c;
        // 		canvas = c;
        // 		console.log(this.points,'。。。。。。。uni.createCanvas。。success。', gl);
        // 		// this.renderImg()

        // 		Promise.all([
        // 			// this.changeLipStyle(this.imgLipstick),’
        // 			this.changeLipStyle(this.imgModel)
        // 		]).then(res=>{
        // 			console.log('zhixingwanbi 哈哈哈',res)
        // 			// this.lipRenderPipeline();
        // 			// this.quadRenderPipeline();
        // 			// this.drawQuan(res[1])

        // 			// this.drawLip(res[0])
        // 			this.drawFacePoints(this.points);
        // 		}).catch(err=>{
        // 			console.log('失败 哈哈哈',err)
        // 		})
        // 		},
        // 	fail:()=>{
        // 		console.log('。。。。。。。my.createCanvas。。fail。');
        // 	}

        // 	})
      } catch (e) {
        console.log('。。。。。。。my.createCanvas。。catch。', e);
      }



    },
    handleARFrame1: function handleARFrame1() {
      var rawPoints = this.points84By63.map(function (item) {return item * 0.6;});
      var len = 106;
      for (var i = 0; i < 84; i++) {
        rawPoints.unshift(0.1, 0.1);
      }
      for (var i = 104; i < len; i++) {
        rawPoints.push(0.1, 0.1);
      }
      function transformPoint(point, fw, fh) {
        return [point[0] / fw * 2 - 1, (1 - point[1] / fh) * 2 - 1];
      }
      var points = [];

      for (var i = 0; i < 106; i++) {
        points.push(transformPoint([rawPoints[i * 2], rawPoints[i * 2 + 1]], this.imgWidth, this.imgHeight));
      }
      console.log(points, '...gl 出来了么....');
      this.points = points;
    },
    quadRenderPipeline: function quadRenderPipeline() {
      /*=========================Shaders========================*/
      var FSIZE = 4;
      var quadVertCode = "#version 300 es\n\t\t\t      layout(location = 0) in vec2 a_position;\n\t\t\t      layout(location = 1) in vec2 a_uv;\n\t\t\t      out vec2 uv_out;\n\t\t\t      void main() {\n\t\t\t        gl_Position = vec4(a_position, 1.0, 1.0);\n\t\t\t        uv_out = a_uv;\n\t\t\t      }\n\t\t\t      ";









      var quadFragCode = "#version 300 es\n\t\t\t      precision mediump float;\n\t\t\t      in vec2 uv_out;\n\t\t\t      uniform sampler2D u_texture;\n\t\t\t      layout(location = 0) out vec4 outColor;\n\t\t\t      void main() {\n\t\t\t        vec2 uv = vec2(uv_out.x, uv_out.y);\n\t\t\t        outColor = vec4(texture(u_texture, uv).xyz, 1.0);\n\t\t\t      }\n\t\t\t      ";










      console.log("quadVertShader的值", quadVertShader);
      quadVertShader = gl.createShader(gl.VERTEX_SHADER); // 创建顶点着色器
      gl.shaderSource(quadVertShader, quadVertCode); // 绑定顶点着色器源码
      gl.compileShader(quadVertShader); // 编译定点着色器

      console.log("quadVertShader的值1", quadVertShader);

      quadFragShader = gl.createShader(gl.FRAGMENT_SHADER); // 创建片元着色器
      gl.shaderSource(quadFragShader, quadFragCode); // 绑定片元着色器源码
      gl.compileShader(quadFragShader); // 编译片元着色器
      console.log("quadFragShader的值", quadFragShader);

      quadShaderProgram = gl.createProgram(); // 创建着色器程序
      gl.attachShader(quadShaderProgram, quadVertShader); // 指定顶点着色器
      gl.attachShader(quadShaderProgram, quadFragShader); // 指定片元着色色器
      gl.linkProgram(quadShaderProgram); // 链接程序
      gl.useProgram(quadShaderProgram); //使用着色器
      console.log("quadShaderProgram 渲染成功否");


    },
    drawQuan: function drawQuan(res) {
      // gl.useProgram(0);
      gl.clearColor(0.0, 0.0, 0.0, 0.0);
      gl.clear(gl.COLOR_BUFFER_BIT);

      var FSIZE = 4;
      quadVertexbuffer = gl.createBuffer(); //  创建缓冲区对象(gl.createBuffer())
      if (quadVertexbuffer === null) {
        console.log("quadVertexbuffer is null");
      }
      console.log("quadVertexbuffer", quadVertexbuffer);
      // 绑定缓冲区对象(gl.bindBuffer(target, buffer))
      gl.disable(gl.BLEND);
      gl.bindBuffer(gl.ARRAY_BUFFER, quadVertexbuffer);
      // 将数据写入缓冲区对象(gl.bufferData()) WebGL 不支持直接使用 JavaScript 原始数组类型，需要转换
      gl.bufferData(gl.ARRAY_BUFFER, quadVertex, gl.STATIC_DRAW);

      var qposlocation = gl.getAttribLocation(quadShaderProgram, 'a_position');
      gl.vertexAttribPointer(qposlocation, 2, gl.FLOAT, false, FSIZE * 4, 0); //将顶点坐标的位置赋值
      gl.enableVertexAttribArray(qposlocation); // 赋能-批处理
      console.log("qposlocation", qposlocation);

      var quv = gl.getAttribLocation(quadShaderProgram, 'a_uv');
      gl.vertexAttribPointer(quv, 2, gl.FLOAT, false, FSIZE * 4, FSIZE * 2);
      gl.enableVertexAttribArray(quv);
      console.log("quv 222", quv);

      cameraTexture = gl.createTexture(); //创建纹理对象
      console.log("cameraTexture gl.createTexture", cameraTexture);
      if (cameraTexture === null) {
        console.log("cameraTexture is null");
        // return false;
      }
      gl.activeTexture(gl.TEXTURE0); // 开启0号纹理单元
      gl.bindTexture(gl.TEXTURE_2D, cameraTexture); // 向target绑定纹理对象
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
      console.log("cameraTexture ", cameraTexture);


      // gl.bindTexture(gl.TEXTURE_2D, cameraTexture);
      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, res);

      // gl.bindTexture(gl.TEXTURE_2D, cameraTexture);

      gl.useProgram(quadShaderProgram);
      gl.drawArrays(gl.TRIANGLES, 0, 6);
    },
    lipRenderPipeline: function lipRenderPipeline() {
      var FSIZE = 4;
      var vertCode = "#version 300 es\n\t\t\t      layout(location = 0) in vec2 a_position;\n\t\t\t      layout(location = 1) in vec3 a_uv;\n\t\t\t      out vec3 uv_out;\n\t\t\t      void main() {\n\t\t\t        gl_Position = vec4(a_position, 1.0, 1.0);\n\t\t\t        uv_out = a_uv;\n\t\t\t        //uv_out = vec2(1.0, 0.0);\n\t\t\t      }\n\t\t\t      ";










      var fragCode = "#version 300 es\n\t\t\t      precision mediump float;\n\t\t\t      in vec3 uv_out;\n\t\t\t      uniform sampler2D u_texture;\n\t\t\t      uniform sampler2D u_texture2;\n\t\t\t      layout(location = 0) out vec4 outColor;\n\t\t\t      void main() {\n\t\t\t\n\t\t\t        vec2 uv = vec2(uv_out.x, 1.0 - uv_out.y);\n\t\t\t        vec3 lipColor = texture(u_texture, uv).xyz;\n\t\t\t        vec3 c = lipColor;\n\t\t\t        vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n\t\t\t        vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n\t\t\t        vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\t\t\t\n\t\t\t        float d = q.x - min(q.w, q.y);\n\t\t\t        float e = 1.0e-10;\n\t\t\t        vec3 hc = vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n\t\t\t\n\t\t\t        hc.y *= 1.2;\n\t\t\t\n\t\t\t        vec4 L = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n\t\t\t        vec3 M = abs(fract(hc.xxx + L.xyz) * 6.0 - L.www);\n\t\t\t        vec3 color = hc.z * mix(L.xxx, clamp(M - L.xxx, 0.0, 1.0), hc.y);\n\t\t\t\n\t\t\t        //outColor = vec4(color, 1.0);\n\t\t\t        \n\t\t\t        \n\t\t\t        //vec4 lipColor = texture(u_texture, uv);\n\t\t\t        vec4 frameColor = texture(u_texture2, uv_out.xy);\n\t\t\t        //vec3 finalColor = lipColor.xyz * lipColor.w + frameColor.xyz * (1.0 - lipColor.w);\n\t\t\t        float alpha = texture(u_texture, uv).w;\n\t\t\t        outColor = vec4(color.xyz, alpha * uv_out.z);\n\t\t\t      }\n\t\t\t      ";






































      vertShader = gl.createShader(gl.VERTEX_SHADER);

      if (vertShader === null) {
        console.log("vertShader is null");
      }
      gl.shaderSource(vertShader, vertCode);
      gl.compileShader(vertShader);

      console.log("vertShader is compileShader ");

      fragShader = gl.createShader(gl.FRAGMENT_SHADER);
      gl.shaderSource(fragShader, fragCode);
      gl.compileShader(fragShader);


      console.log("fragShader is compileShader ");
      shaderProgram = gl.createProgram();
      gl.attachShader(shaderProgram, vertShader);
      gl.attachShader(shaderProgram, fragShader);
      gl.linkProgram(shaderProgram);
      gl.useProgram(shaderProgram);
      console.log('。。。。初始化着色器是否成功。。。。');
    },
    drawLip: function drawLip(res) {
      lipPoints = [];
      var lipPointCount = 106 * 2;
      for (var i = 0; i < lipPointCount; i++) {
        lipPoints.push(0.0);
        lipPoints.push(0.0);
        lipPoints.push(0.0);
        lipPoints.push(0.0);
        lipPoints.push(0.0);
      }
      console.log("lipPoints的值计算开始 ");

      lipPointCount = lipIndex.length;
      for (var i = 0; i < lipPointCount; i++) {
        var index = lipIndex[i];
        lipPoints[i * 5] = this.points[index][0];
        lipPoints[i * 5 + 1] = this.points[index][1];
        lipPoints[i * 5 + 2] = lipTexCoordnate[2 * (index - lipMarkBeginIndex)];
        lipPoints[i * 5 + 3] = lipTexCoordnate[2 * (index - lipMarkBeginIndex) + 1];
        lipPoints[i * 5 + 4] = translucent;
      }

      console.log(lipMarkBeginIndex, "lipPoints的值 hah", lipPoints, lipTexCoordnate);
      vertexbuffer = gl.createBuffer();
      if (vertexbuffer === null) {
        console.log("vertexbuffer is null");
      }
      console.log('drawFaceLipdrawFaceLip开始gl.ARRAY_BUFFER', vertexbuffer);


      var FSIZE = 4;
      gl.enable(gl.BLEND);
      gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.NONE, gl.ONE);
      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
      gl.bindBuffer(gl.ARRAY_BUFFER, vertexbuffer);
      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(lipPoints), gl.STREAM_DRAW);

      var aposlocation = gl.getAttribLocation(shaderProgram, 'a_position');
      gl.enableVertexAttribArray(aposlocation);
      gl.vertexAttribPointer(aposlocation, 2, gl.FLOAT, false, FSIZE * 5, 0);
      console.log("aposlocation的值 ", aposlocation);

      var auv = gl.getAttribLocation(shaderProgram, 'a_uv');
      gl.enableVertexAttribArray(auv);
      gl.vertexAttribPointer(auv, 3, gl.FLOAT, false, FSIZE * 5, FSIZE * 2);
      console.log("auv的值 ", auv);

      // gl.useProgram(0);
      // gl.bindTexture(0);
      lipTexture = gl.createTexture();
      console.log("lipTexture gl.createTexture", lipTexture);
      if (lipTexture === null) {
        console.log("lipTexture is null");
        // return false;
      }
      gl.bindTexture(gl.TEXTURE_2D, lipTexture);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, res); // 配置纹理图像
      console.log("createTexturecreateTexture ", lipTexture);


      gl.activeTexture(gl.TEXTURE0);
      gl.bindTexture(gl.TEXTURE_2D, lipTexture);


      gl.activeTexture(gl.TEXTURE1);
      gl.bindTexture(gl.TEXTURE_2D, cameraTexture);
      gl.useProgram(shaderProgram);

      gl.drawArrays(gl.TRIANGLES, 0, 60);
    },
    initRenderPipeline: function initRenderPipeline() {
      var vertCode = "#version 300 es\n\t\t\t      layout(location = 0) in vec2 a_position;\n\t\t\t      layout(location = 1) in vec3 a_uv;\n\t\t\t      out vec3 uv_out;\n\t\t\t      void main() {\n\t\t\t        gl_Position = vec4(a_position, 1.0, 1.0);\n\t\t\t        uv_out = a_uv;\n\t\t\t        //uv_out = vec2(1.0, 0.0);\n\t\t\t      }\n\t\t\t      ";











      var fragCode = "#version 300 es\n\t\t\t      precision mediump float;\n\t\t\t      in vec3 uv_out;\n\t\t\t      uniform sampler2D u_texture;\n\t\t\t      uniform sampler2D u_texture2;\n\t\t\t      layout(location = 0) out vec4 outColor;\n\t\t\t      void main() {\n\t\t\t\n\t\t\t        vec2 uv = vec2(uv_out.x, 1.0 - uv_out.y);\n\t\t\t        vec3 lipColor = texture(u_texture, uv).xyz;\n\t\t\t        vec3 c = lipColor;\n\t\t\t        vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n\t\t\t        vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n\t\t\t        vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\t\t\t\n\t\t\t        float d = q.x - min(q.w, q.y);\n\t\t\t        float e = 1.0e-10;\n\t\t\t        vec3 hc = vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n\t\t\t\n\t\t\t        hc.y *= 1.2;\n\t\t\t\n\t\t\t        vec4 L = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n\t\t\t        vec3 M = abs(fract(hc.xxx + L.xyz) * 6.0 - L.www);\n\t\t\t        vec3 color = hc.z * mix(L.xxx, clamp(M - L.xxx, 0.0, 1.0), hc.y);\n\t\t\t\n\t\t\t        //outColor = vec4(color, 1.0);\n\t\t\t        \n\t\t\t        \n\t\t\t        //vec4 lipColor = texture(u_texture, uv);\n\t\t\t        vec4 frameColor = texture(u_texture2, uv_out.xy);\n\t\t\t        //vec3 finalColor = lipColor.xyz * lipColor.w + frameColor.xyz * (1.0 - lipColor.w);\n\t\t\t        float alpha = texture(u_texture, uv).w;\n\t\t\t        outColor = vec4(color.xyz, alpha * uv_out.z);\n\t\t\t      }\n\t\t\t      ";




































      vertShader = gl.createShader(gl.VERTEX_SHADER);
      if (vertShader === null) {
        console.log("vertShader is null");
      }
      gl.shaderSource(vertShader, vertCode);
      gl.compileShader(vertShader);

      console.log("vertShader is compileShader ");

      fragShader = gl.createShader(gl.FRAGMENT_SHADER);
      gl.shaderSource(fragShader, fragCode);
      gl.compileShader(fragShader);

      console.log("fragShader is compileShader ");
      shaderProgram = gl.createProgram();
      gl.attachShader(shaderProgram, vertShader);
      gl.attachShader(shaderProgram, fragShader);
      gl.linkProgram(shaderProgram);
      gl.useProgram(shaderProgram);


      console.log('。。。。初始化着色器是否成功。。。。');

      var FSIZE = 4;

      vertexbuffer = gl.createBuffer();
      if (vertexbuffer === null) {
        console.log("vertexbuffer is null");
      }

      var aposlocation = gl.getAttribLocation(shaderProgram, 'a_position');
      console.log("a_position的值", aposlocation);
      gl.vertexAttribPointer(aposlocation, 2, gl.FLOAT, false, FSIZE * 5, 0);
      gl.enableVertexAttribArray(aposlocation);

      var auv = gl.getAttribLocation(shaderProgram, 'a_uv');
      console.log("auv的值", auv);
      gl.vertexAttribPointer(auv, 3, gl.FLOAT, false, FSIZE * 5, FSIZE * 2);
      gl.enableVertexAttribArray(auv);

      var quadVertCode = "#version 300 es\n\t\t\t      layout(location = 0) in vec2 a_position;\n\t\t\t      layout(location = 1) in vec2 a_uv;\n\t\t\t      out vec2 uv_out;\n\t\t\t      void main() {\n\t\t\t        gl_Position = vec4(a_position, 1.0, 1.0);\n\t\t\t        uv_out = a_uv;\n\t\t\t      }\n\t\t\t      ";










      var quadFragCode = "#version 300 es\n\t\t\t      precision mediump float;\n\t\t\t      in vec2 uv_out;\n\t\t\t      uniform sampler2D u_texture;\n\t\t\t      layout(location = 0) out vec4 outColor;\n\t\t\t      void main() {\n\t\t\t        vec2 uv = vec2(uv_out.x, uv_out.y);\n\t\t\t        outColor = vec4(texture(u_texture, uv).xyz, 1.0);\n\t\t\t      }\n\t\t\t      ";











      quadVertShader = gl.createShader(gl.VERTEX_SHADER);
      gl.shaderSource(quadVertShader, quadVertCode);
      gl.compileShader(quadVertShader);
      console.log("quadVertShader的值", quadVertShader);


      quadFragShader = gl.createShader(gl.FRAGMENT_SHADER);
      gl.shaderSource(quadFragShader, quadFragCode);
      gl.compileShader(quadFragShader);
      console.log("quadFragShader的值", quadFragShader);

      quadShaderProgram = gl.createProgram();
      gl.attachShader(quadShaderProgram, quadVertShader);
      gl.attachShader(quadShaderProgram, quadFragShader);
      gl.linkProgram(quadShaderProgram);
      gl.useProgram(quadShaderProgram);
      console.log("quadShaderProgram 渲染成功否");


      quadVertexbuffer = gl.createBuffer();
      console.log("quadVertexbuffer", quadVertexbuffer);
      gl.bindBuffer(gl.ARRAY_BUFFER, quadVertexbuffer);
      gl.bufferData(gl.ARRAY_BUFFER, quadVertex, gl.STATIC_DRAW);

      var qposlocation = gl.getAttribLocation(quadShaderProgram, 'a_position');
      gl.enableVertexAttribArray(qposlocation);
      gl.vertexAttribPointer(qposlocation, 2, gl.FLOAT, false, FSIZE * 4, 0);
      console.log("qposlocation", qposlocation);

      var quv = gl.getAttribLocation(quadShaderProgram, 'a_uv');
      gl.enableVertexAttribArray(quv);
      gl.vertexAttribPointer(quv, 2, gl.FLOAT, false, FSIZE * 4, FSIZE * 2);
      console.log("quv 222", quv);

      gl.useProgram(0);

      lipTexture = gl.createTexture();
      gl.bindTexture(gl.TEXTURE_2D, lipTexture);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
      console.log("createTexturecreateTexture ", lipTexture);

      cameraTexture = gl.createTexture();
      gl.bindTexture(gl.TEXTURE_2D, cameraTexture);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
      console.log("cameraTexture ", cameraTexture);

      gl.bindTexture(0);

      lipPoints = [];
      var lipPointCount = 106 * 2;
      for (var i = 0; i < lipPointCount; i++) {
        lipPoints.push(0.0);
        lipPoints.push(0.0);
        lipPoints.push(0.0);
        lipPoints.push(0.0);
        lipPoints.push(0.0);
      }
      console.log("lipPoints的值 ", lipPoints);


      lipPointsIndex = [];
      var lipPointsIndexCount = lipIndex.length;
      for (var i = 0; i < lipPointsIndexCount; i++) {
        lipPointsIndex.push(i);
      }
      console.log("lipPointsIndex的值 ", lipPointsIndex);
    },
    releaseRenderFacePoints: function releaseRenderFacePoints() {
      // gl.deleteShader(this.facePoints.vertShader);
      // gl.deleteShader(this.facePoints.fragShader);
      // gl.deleteProgram(this.facePoints.shaderProgram);
    },
    releaseRenderResource: function releaseRenderResource() {
      gl.deleteShader(vertShader);
      gl.deleteShader(fragShader);
      gl.deleteProgram(shaderProgram);
      gl.deleteShader(quadVertShader);
      gl.deleteShader(quadFragShader);
      gl.deleteProgram(quadShaderProgram);
      gl.deleteBuffer(vertexbuffer);
      gl.deleteTexture(lipTexture);
      gl.deleteTexture(cameraTexture);
      this.releaseRenderFacePoints();
    },

    drawFaceLip: function drawFaceLip(points) {
      console.log(translucent, 'drawFaceLipdrawFaceLip开始', points);
      var lipPointCount = lipIndex.length;
      for (var i = 0; i < lipPointCount; i++) {
        var index = lipIndex[i];
        lipPoints[i * 5] = points[index][0];
        lipPoints[i * 5 + 1] = points[index][1];
        lipPoints[i * 5 + 2] = lipTexCoordnate[2 * (index - lipMarkBeginIndex)];
        lipPoints[i * 5 + 3] = lipTexCoordnate[2 * (index - lipMarkBeginIndex) + 1];
        lipPoints[i * 5 + 4] = translucent;
      }

      console.log('drawFaceLipdrawFaceLip开始gl.ARRAY_BUFFER', vertexbuffer);
      gl.bindBuffer(gl.ARRAY_BUFFER, vertexbuffer);
      console.log('drawFaceLipdrawFaceLip lipPoints', points);
      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(lipPoints), gl.STREAM_DRAW);


      gl.clearColor(0.0, 0.0, 0.0, 0.0);
      gl.clear(gl.COLOR_BUFFER_BIT);
      // gl.disable(gl.DEPTH_TEST);


      // gl.disable(gl.DEPTH_WRITE);
      // gl.enable(gl.GL_CULL_FACE);
      // gl.frontFace(gl.CW);
      console.log('drawFaceLipdrawFaceLip gl.frontFace');
      var FSIZE = 4;

      //Pass one
      // gl.disable(gl.BLEND);
      gl.bindBuffer(gl.ARRAY_BUFFER, quadVertexbuffer);

      var qposlocation = gl.getAttribLocation(quadShaderProgram, 'a_position');

      gl.vertexAttribPointer(qposlocation, 2, gl.FLOAT, false, FSIZE * 4, 0);
      gl.enableVertexAttribArray(qposlocation);

      var quv = gl.getAttribLocation(quadShaderProgram, 'a_uv');

      gl.vertexAttribPointer(quv, 2, gl.FLOAT, false, FSIZE * 4, FSIZE * 2);
      gl.enableVertexAttribArray(quv);

      gl.activeTexture(gl.TEXTURE0);
      gl.bindTexture(gl.TEXTURE_2D, cameraTexture);
      gl.useProgram(quadShaderProgram);
      gl.drawArrays(gl.TRIANGLES, 0, 6);

      //Pass two
      gl.enable(gl.BLEND);
      gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.NONE, gl.ONE);
      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
      gl.bindBuffer(gl.ARRAY_BUFFER, vertexbuffer);
      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(lipPoints), gl.STREAM_DRAW);

      var aposlocation = gl.getAttribLocation(shaderProgram, 'a_position');
      gl.enableVertexAttribArray(aposlocation);
      gl.vertexAttribPointer(aposlocation, 2, gl.FLOAT, false, FSIZE * 5, 0);


      var auv = gl.getAttribLocation(shaderProgram, 'a_uv');
      gl.enableVertexAttribArray(auv);
      gl.vertexAttribPointer(auv, 3, gl.FLOAT, false, FSIZE * 5, FSIZE * 2);

      gl.activeTexture(gl.TEXTURE0);
      gl.bindTexture(gl.TEXTURE_2D, lipTexture);
      gl.activeTexture(gl.TEXTURE1);
      gl.bindTexture(gl.TEXTURE_2D, cameraTexture);
      gl.useProgram(shaderProgram);
      gl.drawArrays(gl.TRIANGLES, 0, 60);
    },
    changeLipStyle: function changeLipStyle(lipTexturePath) {var _this2 = this;
      //let imgPath = '/static/images/lipColor.png';
      // //唇彩图片
      // var img;
      // //唇彩图片路径
      // var imgPath;

      return new Promise(function (resolve, reject) {
        console.log(_this2.canvas, '......图片.this.canvas.', lipTexturePath);
        var imgPath = lipTexturePath;
        var img1 = canvas.createImage();
        img1.onload = function (res) {
          // this.initRenderPipeline();
          // gl.bindTexture(gl.TEXTURE_2D, lipTexture);
          // gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, img);
          resolve(img1);

          console.log(lipTexture, '......图片..', res, img);

        };
        img1.onerror = function (res) {
          console.log('......图片错误..', res, img);
          reject(res);
        };
        img1.src = imgPath;
      });



      // let poster = this.canvas.createImage();
      // wx.getImageInfo({
      //    src: lipTexturePath, //图片的网络地址
      //    success: (res) => {
      //      poster.src = res.path //图片缓存地址
      //      poster.onload = (e) => {
      //        // ctx.drawImage(poster, 0, 0, 200, 200)
      // 		console.log(lipTexture, '......图片..', e, poster);
      //      }
      //    }
      // })
    },

    updateFaceData: function updateFaceData(data, width, height) {
      var dataFrame = new Uint8Array(data);
      gl.bindTexture(gl.TEXTURE_2D, cameraTexture);
      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, dataFrame);
    },
    updateFaceData1: function updateFaceData1() {var _this3 = this;
      return new Promise(function (resolve, reject) {
        uni.getImageInfo({
          src: _this3.imgModel,
          success: function success(res) {
            console.log('getImageInfo  updateFaceData1', res);
            uni.getFileSystemManager().readFile({
              filePath: res.path, // 选择图片返回的相对路径
              // encoding: 'base64', // 编码格式
              success: function success(res1) {
                // 成功的回调
                console.log(res.width, '--将图片图片转为base64方法toBase64  success--', res1.data);
                var dataFrame = new Uint8Array(res1.data);
                // gl.bindTexture(gl.TEXTURE_2D, cameraTexture);
                // gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, res.width, res.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, dataFrame);
                resolve({ data: dataFrame, width: res.width, height: res.height });
              },
              fail: function fail(err) {
                console.log('--将图片图片转为base64方法toBase64 fail--', err);
                reject(err);
              } });

          },
          fail: function fail(err) {
            console.log('--getImageInfo  updateFaceData1 fail--', err);
          } });

      });

    },
    drawFacePoints: function drawFacePoints(points) {
      console.log('drawFacePoints。。。', points, points.length);
      var pointCount = points.length;
      if (pointCount == 0) return;
      var vertices = [];
      for (var i = 0; i < pointCount; i++) {
        vertices.push(points[i][0]);
        vertices.push(points[i][1]);
        vertices.push(0.0);
      }

      // Create an empty buffer object to store the vertex buffer
      var vertex_buffer = gl.createBuffer();
      console.log('。vertex_buffer。。。');
      //Bind appropriate array buffer to it
      gl.bindBuffer(gl.ARRAY_BUFFER, vertex_buffer);

      // Pass the vertex data to the buffer
      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);
      // Unbind the buffer
      gl.bindBuffer(gl.ARRAY_BUFFER, null);
      console.log('。Unbind the buffer。。。');
      /*=========================Shaders========================*/

      // vertex shader source code
      var vertCode =
      'attribute vec3 coordinates;' +

      'void main(void) {' +
      ' gl_Position = vec4(coordinates, 1.0);' +
      'gl_PointSize = 10.0;' +
      '}';

      // Create a vertex shader object
      var vertShader = gl.createShader(gl.VERTEX_SHADER);

      // Attach vertex shader source code
      gl.shaderSource(vertShader, vertCode);

      // Compile the vertex shader
      gl.compileShader(vertShader);

      // fragment shader source code
      var fragCode =
      'void main(void) {' +
      ' gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);' +
      '}';

      // Create fragment shader object
      var fragShader = gl.createShader(gl.FRAGMENT_SHADER);

      // Attach fragment shader source code
      gl.shaderSource(fragShader, fragCode);

      // Compile the fragmentt shader
      gl.compileShader(fragShader);

      // Create a shader program object to store
      // the combined shader program
      var shaderProgram = gl.createProgram();

      // Attach a vertex shader
      gl.attachShader(shaderProgram, vertShader);

      // Attach a fragment shader
      gl.attachShader(shaderProgram, fragShader);

      // Link both programs
      gl.linkProgram(shaderProgram);

      // Use the combined shader program object
      gl.useProgram(shaderProgram);

      /*======== Associating shaders to buffer objects ========*/

      // Bind vertex buffer object
      gl.bindBuffer(gl.ARRAY_BUFFER, vertex_buffer);

      // Get the attribute location
      var coord = gl.getAttribLocation(shaderProgram, "coordinates");
      console.log('。coord。。。', coord);
      // Point an attribute to the currently bound VBO
      gl.vertexAttribPointer(coord, 3, gl.FLOAT, false, 0, 0);

      // Enable the attribute
      gl.enableVertexAttribArray(coord);

      gl.clearColor(0.0, 0.0, 0.0, 0.0);
      gl.clear(gl.COLOR_BUFFER_BIT);
      // Draw the triangle
      gl.drawArrays(gl.POINTS, 0, pointCount);
    },
    drawFacePoints11: function drawFacePoints11(points) {
      var pointCount = points.length;
      if (pointCount == 0) return;
      var vertices = [];
      for (var i = 0; i < pointCount; i++) {
        vertices.push(points[i][0]);
        vertices.push(points[i][1]);
        vertices.push(0.0);
      }

      // Create an empty buffer object to store the vertex buffer
      var vertex_buffer = gl.createBuffer();

      //Bind appropriate array buffer to it
      gl.bindBuffer(gl.ARRAY_BUFFER, vertex_buffer);

      // Pass the vertex data to the buffer
      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);
      // Unbind the buffer
      gl.bindBuffer(gl.ARRAY_BUFFER, null);

      /*=========================Shaders========================*/

      // vertex shader source code
      var vertCode = "attribute vec3 coordinates;\n\t\t\t  void main(void) {\n\t\t\t  \tgl_Position = vec4(coordinates, 1.0);\n\t\t\t  \tgl_PointSize = 5.0;\n\t\t\t  }";






      // Create a vertex shader object
      var vertShader = gl.createShader(gl.VERTEX_SHADER);

      // Attach vertex shader source code
      gl.shaderSource(vertShader, vertCode);

      // Compile the vertex shader
      gl.compileShader(vertShader);

      // fragment shader source code
      var fragCode = "precision mediump float;\n\t\t\t\t\t\tuniform vec4 u_FragColor;\n\t\t\t\t\t\tvoid main(){\n\t\t\t\t\t\t    gl_FragColor=u_FragColor;\n\t\t\t\t\t\t}";






      // Create fragment shader object
      var fragShader = gl.createShader(gl.FRAGMENT_SHADER);

      // Attach fragment shader source code
      gl.shaderSource(fragShader, fragCode);

      // Compile the fragmentt shader
      gl.compileShader(fragShader);

      // Create a shader program object to store
      // the combined shader program
      var shaderProgram = gl.createProgram();

      // Attach a vertex shader
      gl.attachShader(shaderProgram, vertShader);

      // Attach a fragment shader
      gl.attachShader(shaderProgram, fragShader);

      // Link both programs
      gl.linkProgram(shaderProgram);

      // Use the combined shader program object
      gl.useProgram(shaderProgram);

      /*======== Associating shaders to buffer objects ========*/

      // Bind vertex buffer object
      gl.bindBuffer(gl.ARRAY_BUFFER, vertex_buffer);

      // Get the attribute location
      var coord = gl.getAttribLocation(shaderProgram, "coordinates");

      // Point an attribute to the currently bound VBO
      gl.vertexAttribPointer(coord, 3, gl.FLOAT, false, 0, 0);

      // Enable the attribute
      gl.enableVertexAttribArray(coord);

      //获取uniform 变量
      var u_FragColor = gl.getUniformLocation(shaderProgram, "u_FragColor");
      var rgba = this.isShowFacePoints ? 1.0 : 0.0;
      //修改uniform 变量
      gl.uniform4f(u_FragColor, 1.0, 0.0, 0.0, 1.0);


      gl.clearColor(0.0, 0.0, 0.0, 0.0);
      gl.clear(gl.COLOR_BUFFER_BIT);
      // Draw the triangle
      gl.drawArrays(gl.POINTS, 0, pointCount);
    },
    renderImg: function renderImg() {var _this4 = this;
      var imgpath = this.imgModel;
      console.log(imgpath, 'imgpath');
      var canvas = this.canvas;
      var gl = this.gl;
      var img = canvas.createImage();
      img.onload = function (r) {
        console.log('图片加载成功', r);

        if (!_this4.initShader(gl)) {
          console.log('initShader is failed，初始化着色器失败');
          return;
        }
        if (!_this4.initVertexs(gl)) {
          console.log('drawVertexs is failed 设置顶点的相关信息失败 ');
          return;
        }
        if (!_this4.initTextures(gl, img)) {
          console.log('drawTextures is failed 无法配置纹理');
          return;
        }

        console.log('gl.drawArrays');
        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
      };
      img.onerror = function (r) {
        console.log('onError', r);
      };
      img.src = imgpath;


    },
    initShader: function initShader(gl) {

      /*=========================Shaders========================*/
      var vertexShader = gl.createShader(gl.VERTEX_SHADER); // 创建顶点着色器
      gl.shaderSource(vertexShader, VSHADER_SOURCE); // 绑定顶点着色器源码
      gl.compileShader(vertexShader); // 编译定点着色器

      var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER); // 创建片元着色器
      gl.shaderSource(fragmentShader, FSHADER_SOURCE); // 绑定片元着色器源码
      gl.compileShader(fragmentShader); // 编译片元着色器


      var shaderProgram = gl.createProgram(); // 创建着色器程序
      gl.attachShader(shaderProgram, vertexShader); // 指定顶点着色器
      gl.attachShader(shaderProgram, fragmentShader); // 指定片元着色色器

      gl.linkProgram(shaderProgram); // 链接程序
      gl.useProgram(shaderProgram); //使用着色器
      gl.program = shaderProgram;
      return true;
    },
    initVertexs: function initVertexs(gl, img) {
      // Create an empty buffer object to store the vertex buffer 创建缓冲区对象(gl.createBuffer())
      var vertexsBuffer = gl.createBuffer();


      if (vertexsBuffer === null) {
        console.log("vertexsBuffer is null");
        return false;
      }
      // 绑定缓冲区对象(gl.bindBuffer(target, buffer))
      gl.bindBuffer(gl.ARRAY_BUFFER, vertexsBuffer);

      // 将数据写入缓冲区对象(gl.bufferData()) WebGL 不支持直接使用 JavaScript 原始数组类型，需要转换
      gl.bufferData(gl.ARRAY_BUFFER, this.vertexs, gl.STATIC_DRAW);

      var a_Position = gl.getAttribLocation(gl.program, "a_position");
      console.log("a_Position 的值", a_Position);

      if (a_Position < 0) {
        console.log("a_Position < 0");
        return false;
      }

      var a_TexCoord = gl.getAttribLocation(gl.program, "a_texCoord");
      console.log("a_TexCoord的值", a_TexCoord);
      if (a_TexCoord < 0) {
        console.log("a_TexCoord < 0");
        return false;
      }

      console.log("this.vertexs", this.vertexs, 'BYTES_PER_ELEMENT:\\', this.vertexs.BYTES_PER_ELEMENT);
      // gl.vertexAttribPointer(coord, 3, gl.FLOAT, false, 0, 0);
      //将顶点坐标的位置赋值
      gl.vertexAttribPointer(a_Position, 3, gl.FLOAT, false, this.vertexs.BYTES_PER_ELEMENT * 5, 0);
      // 赋能-批处理
      gl.enableVertexAttribArray(a_Position);

      //将纹理坐标赋值
      gl.vertexAttribPointer(a_TexCoord, 2, gl.FLOAT, false, this.vertexs.BYTES_PER_ELEMENT * 5, this.vertexs.BYTES_PER_ELEMENT * 3);
      gl.enableVertexAttribArray(a_TexCoord);

      return true;
    },
    initTextures: function initTextures(gl, img) {

      var textureId = gl.createTexture(); //创建纹理对象

      if (textureId === null) {
        console.log("textureId is null");
        return false;
      }


      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1); // 对纹理图像进行y轴反转
      gl.activeTexture(gl.TEXTURE0); // 开启0号纹理单元
      gl.bindTexture(gl.TEXTURE_2D, textureId); // 向target绑定纹理对象
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR); // 配置纹理参数
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);

      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, img); // 配置纹理图像

      var u_image = gl.getUniformLocation(gl.program, "u_image");
      if (u_image < 0) {
        console.log("u_image < 0");
        return false;
      }
      gl.uniform1i(u_image, 0); // 将0号纹理传递给着色器

      return true;
    } },

  mounted: function mounted() {},
  onShow: function onShow() {
    // this.$nextTick(() => {
    // 	this.$refs.brightness.getScreenBrightness()
    // })
  },
  onLoad: function onLoad() {return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee() {return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:case "end":return _context.stop();}}}, _callee);}))();},
  beforeDestroy: function beforeDestroy() {
    // 退出释放资源
    this.releaseRenderResource();
  },
  onShareAppMessage: function onShareAppMessage() {},
  onShareTimeline: function onShareTimeline() {
    return {
      title: '自定义转发标题',
      query: '?openid=123',
      imageUrl: '' };

  },
  onUnload: function onUnload() {},
  onHide: function onHide() {} };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-alipay/dist/index.js */ 1)["default"]))

/***/ }),
/* 18 */
/*!*************************************************************************************************!*\
  !*** E:/other/diaoyan/ar/test-ar-markup/pages/index/index.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../软件/HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css& */ 19);
/* harmony import */ var _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_3_3_11_20220209_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),
/* 19 */
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/other/diaoyan/ar/test-ar-markup/pages/index/index.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })
],[[12,"common/runtime","common/vendor"]]]);